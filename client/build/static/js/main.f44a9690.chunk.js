(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(41),r=a.n(l),o=(a(50),a(51),a(52),a(3)),u=a(1),i=a(5),m=a.n(i),s=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),d=s[0],E=s[1],p=Object(n.useState)(""),b=Object(u.a)(p,2),h=b[0],f=b[1],g=Object(n.useState)(""),v=Object(u.a)(g,2),y=v[0],j=v[1],O=Object(n.useState)(""),w=Object(u.a)(O,2),S=w[0],x=w[1],I=Object(n.useState)(""),N=Object(u.a)(I,2),B=N[0],C=N[1],W=Object(n.useState)(""),k=Object(u.a)(W,2),D=k[0],M=k[1],F=Object(n.useState)({}),P=Object(u.a)(F,2),Y=P[0],A=P[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"What do you want to buy?"),c.a.createElement("div",{className:"single-container"},c.a.createElement("h2",null,"Post the Item you want to buy!"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:l,condition:d,desc:h,imageURL:y,price:S,quantity:B,date:D};m.a.post("http://localhost:8000/api/wannabuys",t).then((function(e){Object(o.d)("/wannabuys/")})).catch((function(e){console.error(e.response),A(e.response.data.errors)}))}},c.a.createElement("div",null,c.a.createElement("label",null,"Item Name: "),c.a.createElement("input",{onChange:function(e){return r(e.target.value)},type:"text"}),Y.name?c.a.createElement("span",{className:"error"},Y.name.message):""),c.a.createElement("div",null,c.a.createElement("label",null,"Condition: "),c.a.createElement("input",{onChange:function(e){return E(e.target.value)},type:"text"}),Y.condition?c.a.createElement("span",{className:"error"},Y.condition.message):""),c.a.createElement("div",null,c.a.createElement("label",null,"Item Description: "),c.a.createElement("textarea",{onChange:function(e){return f(e.target.value)},type:"text"}),Y.desc?c.a.createElement("span",{className:"error"},Y.desc.message):""),c.a.createElement("div",null,c.a.createElement("label",null,"Item Image: "),c.a.createElement("input",{onChange:function(e){return j(e.target.value)},type:"text"})),c.a.createElement("div",null,c.a.createElement("label",null,"Item Price: "),c.a.createElement("input",{onChange:function(e){return x(e.target.value)},type:"text",placeholder:"minimum $50"})),c.a.createElement("div",null,c.a.createElement("label",null,"Item Quantity: "),c.a.createElement("input",{onChange:function(e){return C(e.target.value)},type:"text"})),c.a.createElement("div",null,c.a.createElement("label",null,"When do you want it?: "),c.a.createElement("input",{onChange:function(e){return M(e.target.value)},type:"date"})),c.a.createElement("button",{class:"btn btn-primary"},"Add Item"))))},d=a(43),E=a.n(d),p=function(e){var t=e.id,a=Object(n.useState)({}),l=Object(u.a)(a,2),r=l[0],o=l[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),d=s[0],p=s[1],b=Object(n.useState)(""),h=Object(u.a)(b,2),f=h[0],g=h[1],v=Object(n.useState)((function(){return E()(":8000")})),y=Object(u.a)(v,1)[0];return Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/wannabuys/"+t).then((function(e){o(e.data),g((e.data.price-1).toFixed(2))})).catch((function(e){console.log(e),p("Error Retrieving Item")}))}),[t]),Object(n.useEffect)((function(){return y.on("item updated",(function(e){o(e),g((e.price-1).toFixed(2)),50===e.price&&p("Bid Over")})),function(){return y.disconnect(!0)}}),[]),null===r?d:c.a.createElement("div",null,c.a.createElement("p",null,"Message: ",d),c.a.createElement("p",null,"Price ",r.price),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f<r.price&&(r.price=f<50?50:+f,m.a.put("http://localhost:8000/api/wannabuys/"+t,r).then((function(e){y.emit("item updated",e.data),e.data.price})).catch((function(e){console.log("error posting",e)})))}},c.a.createElement("label",null,"Bid Amount: "),c.a.createElement("input",{onChange:function(e){return g(e.target.value)},value:f,type:"number",step:"1"}),c.a.createElement("button",{disabled:r.price<=50},"Place Bid")))},b=a(44),h=a.n(b),f=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],r=a[1];return Object(n.useEffect)((function(){m.a.get("http://localhost:8000/api/wannabuys").then((function(e){return r(e.data.sort((function(e,t){return e.date<t.date?-1:e.date>t.date?1:0})))})).catch(console.log)}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{class:"container"},c.a.createElement("div",{class:"row"},c.a.createElement("h3",null,"What are you looking to buy?"),c.a.createElement("hr",null),c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"Item Name"),c.a.createElement("th",{scope:"col"},"Description"),c.a.createElement("th",{scope:"col"},"Condition"),c.a.createElement("th",{scope:"col"},"Item Image"),c.a.createElement("th",{scope:"col-sm"},"Date"),c.a.createElement("th",{scope:"col"},"Current Bid Price"),c.a.createElement("th",{scope:"col"},"Bid"))),c.a.createElement("tbody",null,l.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.desc),c.a.createElement("td",null,e.condition),c.a.createElement("td",null,c.a.createElement("img",{style:{paddingBottom:20,borderBottom:"2px solid gray"},width:"150px",src:e.imageURL,alt:"".concat(e.name," item")})),c.a.createElement("td",null,h()(e.date).format("MMMM D, YYYY")),c.a.createElement("td",null,e.price),c.a.createElement("td",null,c.a.createElement(o.a,{to:"/wannabuys/"+e._id},"Want to bid?")," "))}))))))))};var g=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("h1",null,"WannaBuy.com")),c.a.createElement("div",{className:"col"},c.a.createElement(o.a,{to:"/wannabuys/new"},"What do you want to buy?")),c.a.createElement("div",{className:"col"},c.a.createElement(o.a,{to:"/wannabuys/"},"Back to home")))),c.a.createElement("div",{className:"container-flex justify-content-center"},c.a.createElement(o.c,null,c.a.createElement(o.b,{from:"/",to:"/wannabuys",noThrow:"true"}),c.a.createElement(s,{path:"/wannabuys/new"}),c.a.createElement(p,{path:"/wannabuys/:id"}),c.a.createElement(f,{path:"/wannabuys"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},45:function(e,t,a){e.exports=a(107)},50:function(e,t,a){},51:function(e,t,a){}},[[45,1,2]]]);
//# sourceMappingURL=main.f44a9690.chunk.js.map